{"version":3,"file":"ThemeManager.js","sources":["../../src/utils/ThemeManager.ts"],"sourcesContent":["import { ThemeConfig } from '../types';\r\n\r\n/**\r\n * 预设主题\r\n */\r\nconst defaultThemes: Record<string, ThemeConfig> = {\r\n  default: {\r\n    name: 'default',\r\n    colors: {\r\n      primary: '#409eff',\r\n      success: '#67c23a',\r\n      warning: '#e6a23c',\r\n      error: '#f56c6c',\r\n      info: '#909399',\r\n      track: '#e4e7ed',\r\n      text: '#303133',\r\n    },\r\n    sizes: {\r\n      small: 4,\r\n      medium: 6,\r\n      large: 8,\r\n    },\r\n    borderRadius: '4px',\r\n    shadow: '0 2px 4px rgba(0, 0, 0, 0.12)',\r\n  },\r\n  dark: {\r\n    name: 'dark',\r\n    colors: {\r\n      primary: '#409eff',\r\n      success: '#67c23a',\r\n      warning: '#e6a23c',\r\n      error: '#f56c6c',\r\n      info: '#909399',\r\n      track: '#4c4d4f',\r\n      text: '#e5eaf3',\r\n    },\r\n    sizes: {\r\n      small: 4,\r\n      medium: 6,\r\n      large: 8,\r\n    },\r\n    borderRadius: '4px',\r\n    shadow: '0 2px 4px rgba(0, 0, 0, 0.3)',\r\n  },\r\n  primary: {\r\n    name: 'primary',\r\n    colors: {\r\n      primary: '#409eff',\r\n      success: '#67c23a',\r\n      warning: '#e6a23c',\r\n      error: '#f56c6c',\r\n      info: '#909399',\r\n      track: '#d3e3fd',\r\n      text: '#303133',\r\n    },\r\n    sizes: {\r\n      small: 4,\r\n      medium: 6,\r\n      large: 8,\r\n    },\r\n    borderRadius: '4px',\r\n    shadow: '0 2px 8px rgba(64, 158, 255, 0.2)',\r\n  },\r\n  success: {\r\n    name: 'success',\r\n    colors: {\r\n      primary: '#67c23a',\r\n      success: '#67c23a',\r\n      warning: '#e6a23c',\r\n      error: '#f56c6c',\r\n      info: '#909399',\r\n      track: '#d9f0ce',\r\n      text: '#303133',\r\n    },\r\n    sizes: {\r\n      small: 4,\r\n      medium: 6,\r\n      large: 8,\r\n    },\r\n    borderRadius: '4px',\r\n    shadow: '0 2px 8px rgba(103, 194, 58, 0.2)',\r\n  },\r\n  warning: {\r\n    name: 'warning',\r\n    colors: {\r\n      primary: '#e6a23c',\r\n      success: '#67c23a',\r\n      warning: '#e6a23c',\r\n      error: '#f56c6c',\r\n      info: '#909399',\r\n      track: '#f9e8d1',\r\n      text: '#303133',\r\n    },\r\n    sizes: {\r\n      small: 4,\r\n      medium: 6,\r\n      large: 8,\r\n    },\r\n    borderRadius: '4px',\r\n    shadow: '0 2px 8px rgba(230, 162, 60, 0.2)',\r\n  },\r\n  error: {\r\n    name: 'error',\r\n    colors: {\r\n      primary: '#f56c6c',\r\n      success: '#67c23a',\r\n      warning: '#e6a23c',\r\n      error: '#f56c6c',\r\n      info: '#909399',\r\n      track: '#fde2e2',\r\n      text: '#303133',\r\n    },\r\n    sizes: {\r\n      small: 4,\r\n      medium: 6,\r\n      large: 8,\r\n    },\r\n    borderRadius: '4px',\r\n    shadow: '0 2px 8px rgba(245, 108, 108, 0.2)',\r\n  },\r\n  info: {\r\n    name: 'info',\r\n    colors: {\r\n      primary: '#909399',\r\n      success: '#67c23a',\r\n      warning: '#e6a23c',\r\n      error: '#f56c6c',\r\n      info: '#909399',\r\n      track: '#e4e7ed',\r\n      text: '#303133',\r\n    },\r\n    sizes: {\r\n      small: 4,\r\n      medium: 6,\r\n      large: 8,\r\n    },\r\n    borderRadius: '4px',\r\n    shadow: '0 2px 8px rgba(144, 147, 153, 0.2)',\r\n  },\r\n};\r\n\r\n/**\r\n * 主题管理器\r\n */\r\nexport class ThemeManager {\r\n  private themes: Map<string, ThemeConfig>;\r\n  private currentTheme: string = 'default';\r\n\r\n  constructor() {\r\n    this.themes = new Map(Object.entries(defaultThemes));\r\n  }\r\n\r\n  /**\r\n   * 注册主题\r\n   */\r\n  register(theme: ThemeConfig): void {\r\n    this.themes.set(theme.name, theme);\r\n  }\r\n\r\n  /**\r\n   * 获取主题\r\n   */\r\n  get(name: string): ThemeConfig | undefined {\r\n    return this.themes.get(name);\r\n  }\r\n\r\n  /**\r\n   * 获取当前主题\r\n   */\r\n  getCurrent(): ThemeConfig {\r\n    return this.themes.get(this.currentTheme) || defaultThemes.default;\r\n  }\r\n\r\n  /**\r\n   * 设置当前主题\r\n   */\r\n  setCurrent(name: string): void {\r\n    if (this.themes.has(name)) {\r\n      this.currentTheme = name;\r\n    } else {\r\n      console.warn(`Theme \"${name}\" not found, using default theme`);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 删除主题\r\n   */\r\n  remove(name: string): void {\r\n    if (name !== 'default') {\r\n      this.themes.delete(name);\r\n      if (this.currentTheme === name) {\r\n        this.currentTheme = 'default';\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取所有主题名称\r\n   */\r\n  getThemeNames(): string[] {\r\n    return Array.from(this.themes.keys());\r\n  }\r\n\r\n  /**\r\n   * 应用主题到元素（通过CSS变量）\r\n   */\r\n  applyTheme(element: HTMLElement, themeName?: string): void {\r\n    const theme = themeName ? this.get(themeName) : this.getCurrent();\r\n    if (!theme) return;\r\n\r\n    const { colors, sizes, borderRadius, shadow } = theme;\r\n\r\n    // 应用颜色\r\n    Object.entries(colors).forEach(([key, value]) => {\r\n      element.style.setProperty(`--progress-color-${key}`, value);\r\n    });\r\n\r\n    // 应用尺寸\r\n    Object.entries(sizes).forEach(([key, value]) => {\r\n      element.style.setProperty(`--progress-size-${key}`, `${value}px`);\r\n    });\r\n\r\n    // 应用其他样式\r\n    if (borderRadius) {\r\n      element.style.setProperty('--progress-border-radius', borderRadius);\r\n    }\r\n    if (shadow) {\r\n      element.style.setProperty('--progress-shadow', shadow);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 根据主题获取颜色\r\n   */\r\n  getColor(colorKey: keyof ThemeConfig['colors'], themeName?: string): string {\r\n    const theme = themeName ? this.get(themeName) : this.getCurrent();\r\n    return theme?.colors[colorKey] || defaultThemes.default.colors[colorKey];\r\n  }\r\n\r\n  /**\r\n   * 创建渐变色\r\n   */\r\n  createGradient(colors: string[], direction: string = 'to right'): string {\r\n    if (colors.length === 1) return colors[0];\r\n    return `linear-gradient(${direction}, ${colors.join(', ')})`;\r\n  }\r\n}\r\n\r\n// 导出默认实例\r\nexport const themeManager = new ThemeManager();\r\n\r\n\r\n"],"names":[],"mappings":";;;;;;;;;AAKA,MAAM,aAAA,GAA6C;AAAA,EACjD,OAAA,EAAS;AAAA,IACP,IAAA,EAAM,SAAA;AAAA,IACN,MAAA,EAAQ;AAAA,MACN,OAAA,EAAS,SAAA;AAAA,MACT,OAAA,EAAS,SAAA;AAAA,MACT,OAAA,EAAS,SAAA;AAAA,MACT,KAAA,EAAO,SAAA;AAAA,MACP,IAAA,EAAM,SAAA;AAAA,MACN,KAAA,EAAO,SAAA;AAAA,MACP,IAAA,EAAM;AAAA,KACR;AAAA,IACA,KAAA,EAAO;AAAA,MACL,KAAA,EAAO,CAAA;AAAA,MACP,MAAA,EAAQ,CAAA;AAAA,MACR,KAAA,EAAO;AAAA,KACT;AAAA,IACA,YAAA,EAAc,KAAA;AAAA,IACd,MAAA,EAAQ;AAAA,GACV;AAAA,EACA,IAAA,EAAM;AAAA,IACJ,IAAA,EAAM,MAAA;AAAA,IACN,MAAA,EAAQ;AAAA,MACN,OAAA,EAAS,SAAA;AAAA,MACT,OAAA,EAAS,SAAA;AAAA,MACT,OAAA,EAAS,SAAA;AAAA,MACT,KAAA,EAAO,SAAA;AAAA,MACP,IAAA,EAAM,SAAA;AAAA,MACN,KAAA,EAAO,SAAA;AAAA,MACP,IAAA,EAAM;AAAA,KACR;AAAA,IACA,KAAA,EAAO;AAAA,MACL,KAAA,EAAO,CAAA;AAAA,MACP,MAAA,EAAQ,CAAA;AAAA,MACR,KAAA,EAAO;AAAA,KACT;AAAA,IACA,YAAA,EAAc,KAAA;AAAA,IACd,MAAA,EAAQ;AAAA,GACV;AAAA,EACA,OAAA,EAAS;AAAA,IACP,IAAA,EAAM,SAAA;AAAA,IACN,MAAA,EAAQ;AAAA,MACN,OAAA,EAAS,SAAA;AAAA,MACT,OAAA,EAAS,SAAA;AAAA,MACT,OAAA,EAAS,SAAA;AAAA,MACT,KAAA,EAAO,SAAA;AAAA,MACP,IAAA,EAAM,SAAA;AAAA,MACN,KAAA,EAAO,SAAA;AAAA,MACP,IAAA,EAAM;AAAA,KACR;AAAA,IACA,KAAA,EAAO;AAAA,MACL,KAAA,EAAO,CAAA;AAAA,MACP,MAAA,EAAQ,CAAA;AAAA,MACR,KAAA,EAAO;AAAA,KACT;AAAA,IACA,YAAA,EAAc,KAAA;AAAA,IACd,MAAA,EAAQ;AAAA,GACV;AAAA,EACA,OAAA,EAAS;AAAA,IACP,IAAA,EAAM,SAAA;AAAA,IACN,MAAA,EAAQ;AAAA,MACN,OAAA,EAAS,SAAA;AAAA,MACT,OAAA,EAAS,SAAA;AAAA,MACT,OAAA,EAAS,SAAA;AAAA,MACT,KAAA,EAAO,SAAA;AAAA,MACP,IAAA,EAAM,SAAA;AAAA,MACN,KAAA,EAAO,SAAA;AAAA,MACP,IAAA,EAAM;AAAA,KACR;AAAA,IACA,KAAA,EAAO;AAAA,MACL,KAAA,EAAO,CAAA;AAAA,MACP,MAAA,EAAQ,CAAA;AAAA,MACR,KAAA,EAAO;AAAA,KACT;AAAA,IACA,YAAA,EAAc,KAAA;AAAA,IACd,MAAA,EAAQ;AAAA,GACV;AAAA,EACA,OAAA,EAAS;AAAA,IACP,IAAA,EAAM,SAAA;AAAA,IACN,MAAA,EAAQ;AAAA,MACN,OAAA,EAAS,SAAA;AAAA,MACT,OAAA,EAAS,SAAA;AAAA,MACT,OAAA,EAAS,SAAA;AAAA,MACT,KAAA,EAAO,SAAA;AAAA,MACP,IAAA,EAAM,SAAA;AAAA,MACN,KAAA,EAAO,SAAA;AAAA,MACP,IAAA,EAAM;AAAA,KACR;AAAA,IACA,KAAA,EAAO;AAAA,MACL,KAAA,EAAO,CAAA;AAAA,MACP,MAAA,EAAQ,CAAA;AAAA,MACR,KAAA,EAAO;AAAA,KACT;AAAA,IACA,YAAA,EAAc,KAAA;AAAA,IACd,MAAA,EAAQ;AAAA,GACV;AAAA,EACA,KAAA,EAAO;AAAA,IACL,IAAA,EAAM,OAAA;AAAA,IACN,MAAA,EAAQ;AAAA,MACN,OAAA,EAAS,SAAA;AAAA,MACT,OAAA,EAAS,SAAA;AAAA,MACT,OAAA,EAAS,SAAA;AAAA,MACT,KAAA,EAAO,SAAA;AAAA,MACP,IAAA,EAAM,SAAA;AAAA,MACN,KAAA,EAAO,SAAA;AAAA,MACP,IAAA,EAAM;AAAA,KACR;AAAA,IACA,KAAA,EAAO;AAAA,MACL,KAAA,EAAO,CAAA;AAAA,MACP,MAAA,EAAQ,CAAA;AAAA,MACR,KAAA,EAAO;AAAA,KACT;AAAA,IACA,YAAA,EAAc,KAAA;AAAA,IACd,MAAA,EAAQ;AAAA,GACV;AAAA,EACA,IAAA,EAAM;AAAA,IACJ,IAAA,EAAM,MAAA;AAAA,IACN,MAAA,EAAQ;AAAA,MACN,OAAA,EAAS,SAAA;AAAA,MACT,OAAA,EAAS,SAAA;AAAA,MACT,OAAA,EAAS,SAAA;AAAA,MACT,KAAA,EAAO,SAAA;AAAA,MACP,IAAA,EAAM,SAAA;AAAA,MACN,KAAA,EAAO,SAAA;AAAA,MACP,IAAA,EAAM;AAAA,KACR;AAAA,IACA,KAAA,EAAO;AAAA,MACL,KAAA,EAAO,CAAA;AAAA,MACP,MAAA,EAAQ,CAAA;AAAA,MACR,KAAA,EAAO;AAAA,KACT;AAAA,IACA,YAAA,EAAc,KAAA;AAAA,IACd,MAAA,EAAQ;AAAA;AAEZ,CAAA;AAKO,MAAM,YAAA,CAAa;AAAA,EAIxB,WAAA,GAAc;AAFd,IAAA,IAAA,CAAQ,YAAA,GAAuB,SAAA;AAG7B,IAAA,IAAA,CAAK,SAAS,IAAI,GAAA,CAAI,MAAA,CAAO,OAAA,CAAQ,aAAa,CAAC,CAAA;AAAA,EACrD;AAAA;AAAA;AAAA;AAAA,EAKA,SAAS,KAAA,EAA0B;AACjC,IAAA,IAAA,CAAK,MAAA,CAAO,GAAA,CAAI,KAAA,CAAM,IAAA,EAAM,KAAK,CAAA;AAAA,EACnC;AAAA;AAAA;AAAA;AAAA,EAKA,IAAI,IAAA,EAAuC;AACzC,IAAA,OAAO,IAAA,CAAK,MAAA,CAAO,GAAA,CAAI,IAAI,CAAA;AAAA,EAC7B;AAAA;AAAA;AAAA;AAAA,EAKA,UAAA,GAA0B;AACxB,IAAA,OAAO,KAAK,MAAA,CAAO,GAAA,CAAI,IAAA,CAAK,YAAY,KAAK,aAAA,CAAc,OAAA;AAAA,EAC7D;AAAA;AAAA;AAAA;AAAA,EAKA,WAAW,IAAA,EAAoB;AAC7B,IAAA,IAAI,IAAA,CAAK,MAAA,CAAO,GAAA,CAAI,IAAI,CAAA,EAAG;AACzB,MAAA,IAAA,CAAK,YAAA,GAAe,IAAA;AAAA,IACtB,CAAA,MAAO;AACL,MAAA,OAAA,CAAQ,IAAA,CAAK,CAAA,OAAA,EAAU,IAAI,CAAA,gCAAA,CAAkC,CAAA;AAAA,IAC/D;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,OAAO,IAAA,EAAoB;AACzB,IAAA,IAAI,SAAS,SAAA,EAAW;AACtB,MAAA,IAAA,CAAK,MAAA,CAAO,OAAO,IAAI,CAAA;AACvB,MAAA,IAAI,IAAA,CAAK,iBAAiB,IAAA,EAAM;AAC9B,QAAA,IAAA,CAAK,YAAA,GAAe,SAAA;AAAA,MACtB;AAAA,IACF;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,aAAA,GAA0B;AACxB,IAAA,OAAO,KAAA,CAAM,IAAA,CAAK,IAAA,CAAK,MAAA,CAAO,MAAM,CAAA;AAAA,EACtC;AAAA;AAAA;AAAA;AAAA,EAKA,UAAA,CAAW,SAAsB,SAAA,EAA0B;AACzD,IAAA,MAAM,QAAQ,SAAA,GAAY,IAAA,CAAK,IAAI,SAAS,CAAA,GAAI,KAAK,UAAA,EAAW;AAChE,IAAA,IAAI,CAAC,KAAA;AAAO,MAAA;AAEZ,IAAA,MAAM,EAAE,MAAA,EAAQ,KAAA,EAAO,YAAA,EAAc,QAAO,GAAI,KAAA;AAGhD,IAAA,MAAA,CAAO,OAAA,CAAQ,MAAM,CAAA,CAAE,OAAA,CAAQ,CAAC,CAAC,GAAA,EAAK,KAAK,CAAA,KAAM;AAC/C,MAAA,OAAA,CAAQ,KAAA,CAAM,WAAA,CAAY,CAAA,iBAAA,EAAoB,GAAG,IAAI,KAAK,CAAA;AAAA,IAC5D,CAAC,CAAA;AAGD,IAAA,MAAA,CAAO,OAAA,CAAQ,KAAK,CAAA,CAAE,OAAA,CAAQ,CAAC,CAAC,GAAA,EAAK,KAAK,CAAA,KAAM;AAC9C,MAAA,OAAA,CAAQ,MAAM,WAAA,CAAY,CAAA,gBAAA,EAAmB,GAAG,CAAA,CAAA,EAAI,CAAA,EAAG,KAAK,CAAA,EAAA,CAAI,CAAA;AAAA,IAClE,CAAC,CAAA;AAGD,IAAA,IAAI,YAAA,EAAc;AAChB,MAAA,OAAA,CAAQ,KAAA,CAAM,WAAA,CAAY,0BAAA,EAA4B,YAAY,CAAA;AAAA,IACpE;AACA,IAAA,IAAI,MAAA,EAAQ;AACV,MAAA,OAAA,CAAQ,KAAA,CAAM,WAAA,CAAY,mBAAA,EAAqB,MAAM,CAAA;AAAA,IACvD;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,QAAA,CAAS,UAAuC,SAAA,EAA4B;AAC1E,IAAA,MAAM,QAAQ,SAAA,GAAY,IAAA,CAAK,IAAI,SAAS,CAAA,GAAI,KAAK,UAAA,EAAW;AAChE,IAAA,OAAO,OAAO,MAAA,CAAO,QAAQ,KAAK,aAAA,CAAc,OAAA,CAAQ,OAAO,QAAQ,CAAA;AAAA,EACzE;AAAA;AAAA;AAAA;AAAA,EAKA,cAAA,CAAe,MAAA,EAAkB,SAAA,GAAoB,UAAA,EAAoB;AACvE,IAAA,IAAI,OAAO,MAAA,KAAW,CAAA;AAAG,MAAA,OAAO,OAAO,CAAC,CAAA;AACxC,IAAA,OAAO,mBAAmB,SAAS,CAAA,EAAA,EAAK,MAAA,CAAO,IAAA,CAAK,IAAI,CAAC,CAAA,CAAA,CAAA;AAAA,EAC3D;AACF;AAGO,MAAM,YAAA,GAAe,IAAI,YAAA;;;;"}