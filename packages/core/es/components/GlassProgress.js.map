{"version":3,"file":"GlassProgress.js","sources":["../../src/components/GlassProgress.ts"],"sourcesContent":["import { GlassProgressOptions } from '../types';\nimport { ProgressBase } from '../base';\nimport { createElement, toPx } from '../utils';\n\n/**\n * GlassProgress - 毛玻璃效果进度条\n */\nexport class GlassProgress extends ProgressBase<GlassProgressOptions> {\n  private wrapper!: HTMLElement;\n  private track!: HTMLElement;\n  private bar!: HTMLElement;\n  private textElement?: HTMLElement;\n\n  protected getDefaultOptions(): Partial<GlassProgressOptions> {\n    return {\n      ...super.getDefaultOptions(),\n      width: 300,\n      height: 30,\n      blurAmount: 10,\n      opacity: 0.7,\n      glassColor: 'rgba(255, 255, 255, 0.2)',\n      borderColor: 'rgba(255, 255, 255, 0.3)',\n    };\n  }\n\n  protected render(): void {\n    this.container.innerHTML = '';\n\n    const width = this.config.get('width') ?? 300;\n    const height = this.config.get('height') ?? 30;\n\n    // 创建包装器\n    this.wrapper = createElement('div', 'ld-progress-glass', this.container);\n    this.wrapper.style.width = toPx(width);\n    this.wrapper.style.height = toPx(height);\n    this.wrapper.style.position = 'relative';\n    this.wrapper.style.borderRadius = '15px';\n    this.wrapper.style.overflow = 'hidden';\n\n    const className = this.config.get('className');\n    if (className) {\n      this.wrapper.classList.add(className);\n    }\n\n    // 创建轨道\n    this.track = createElement('div', 'ld-progress-glass__track', this.wrapper);\n    this.track.style.width = '100%';\n    this.track.style.height = '100%';\n    this.track.style.backgroundColor = this.config.get('glassColor') || 'rgba(255, 255, 255, 0.2)';\n    this.track.style.backdropFilter = `blur(${this.config.get('blurAmount') ?? 10}px)`;\n    this.track.style.WebkitBackdropFilter = `blur(${this.config.get('blurAmount') ?? 10}px)`;\n    this.track.style.border = `1px solid ${this.config.get('borderColor') || 'rgba(255, 255, 255, 0.3)'}`;\n    this.track.style.borderRadius = 'inherit';\n    this.track.style.position = 'relative';\n\n    // 创建进度条\n    this.bar = createElement('div', 'ld-progress-glass__bar', this.track);\n    this.bar.style.position = 'absolute';\n    this.bar.style.left = '0';\n    this.bar.style.top = '0';\n    this.bar.style.height = '100%';\n    this.bar.style.borderRadius = 'inherit';\n    this.bar.style.transition = 'width 0.3s ease';\n\n    const color = this.config.get('color');\n    const barColor = Array.isArray(color) ? color[0] : color || 'rgba(64, 158, 255, 0.5)';\n    this.bar.style.background = `linear-gradient(90deg, ${barColor}, rgba(255, 255, 255, 0.3))`;\n    this.bar.style.backdropFilter = `blur(${(this.config.get('blurAmount') ?? 10) / 2}px)`;\n    this.bar.style.WebkitBackdropFilter = `blur(${(this.config.get('blurAmount') ?? 10) / 2}px)`;\n    this.bar.style.boxShadow = 'inset 0 1px 2px rgba(255, 255, 255, 0.5)';\n\n    // 创建文本\n    if (this.config.get('showText')) {\n      this.textElement = createElement('div', 'ld-progress-glass__text', this.wrapper);\n      this.textElement.style.position = 'absolute';\n      this.textElement.style.right = '15px';\n      this.textElement.style.top = '50%';\n      this.textElement.style.transform = 'translateY(-50%)';\n      this.textElement.style.fontSize = '14px';\n      this.textElement.style.fontWeight = 'bold';\n      this.textElement.style.color = 'white';\n      this.textElement.style.textShadow = '0 1px 2px rgba(0, 0, 0, 0.3)';\n      this.textElement.style.zIndex = '10';\n    }\n\n    this.updateProgress(this.currentValue);\n  }\n\n  protected updateProgress(value: number): void {\n    const percentage = this.config.getPercentage(value);\n\n    if (this.bar) {\n      this.bar.style.width = `${percentage}%`;\n    }\n\n    if (this.textElement) {\n      this.textElement.textContent = this.formatText(value);\n    }\n  }\n}\n\n\n\n"],"names":[],"mappings":"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"}